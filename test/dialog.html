<!DOCTYPE html>
<html lang="en">  
  <head>
    <title>Modalator :: Dialog</title>
    <meta charset="utf-8"/>
    <script src="../assets/jquery-2.1.1.min.js"></script>
    <script src="../assets/bootstrap-3.3.1/js/bootstrap.min.js"></script>
    <script src="../assets/bootstrap-modal-2.2.5/js/bootstrap-modalmanager.js"></script>
    <script src="../assets/bootstrap-modal-2.2.5/js/bootstrap-modal.js"></script>
    <script src="../src/modalator-0.1/modalator.js"></script>
    <link rel="stylesheet" href="../assets/bootstrap-3.3.1/css/bootstrap.css"/>
    <link rel="stylesheet" href="../assets/bootstrap-modal-2.2.5/css/bootstrap-modal-bs3patch.css"/>
    <link rel="stylesheet" href="../assets/bootstrap-modal-2.2.5/css/bootstrap-modal.css"/>
  </head>
  <body style="margin:20px">
    <script>
      var launcher = Modalator.launcher.button({
          text: 'Launch Modal Dialog',
          attrs: {href: '#dialog'}
      });

      var dialog = Modalator.dialog({
          title: {text: 'Input Dialog', tag: 'h3'},
          attrs: {id: 'dialog', 'data-width': 480},
          affirm: {
              attrs: {
                  id: 'dialog-affirm',
                  onclick: function() {
                      $('#dialog').modal('hide');
                      var one = $('#dialog [name="input-1"]').val();
                      var two = $('#dialog [name="input-2"]').val();
                      console.log('TEXT VAL   => ' + one);
                      console.log('SELECT VAL => ' + two);
                  }
              }
          },
          cancel: {
              text: 'Dismiss',
              attrs: {
                  onclick: function() { 
                      console.log('Canceling edit.') 
                  }
              }
          },
          fields: [{
              label: {text: 'Field 1'},
              type: 'text',
              attrs: {
                  name: 'input-1',
                  class: 'form-control',
                  value: 'Foobar.',
              }
          }, {
              label: {text: 'Field 2'},
              type: 'select',
              attrs: {
                  name: 'input-2',
                  class: 'form-control',
                  onchange: function() {
                      console.log('The affirm button reads `' 
                                + $('#dialog-affirm').html() + '`');
                  }
              },
              options: [
                  {text: 'One', attrs: {value: 'opt-1'}},
                  {text: 'Two', attrs: {value: 'opt-2'}}
              ],
          }],
      });

      document.addEventListener('DOMContentLoaded', function() { 
          Modalator.appendToDOM([launcher, dialog]);
      });
    </script>
  </body>
</html>
